<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <!-- html2canvasã‚’èª­ã¿è¾¼ã¿ -->
  <script src="html2canvas.min.js"></script>
  <style>
    /* å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾© */
    body {
      width: 380px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f7f6;
      color: #333;
    }

    /* ç”»åƒåŒ–ã™ã‚‹ã‚¨ãƒªã‚¢ */
    #capture-area {
      padding: 20px;
      background-color: #f4f7f6;
      position: relative;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .app-title {
      font-size: 18px;
      font-weight: 800;
      color: #2c3e50;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .header-icons {
      display: flex;
      gap: 12px;
    }
    .icon-btn {
      cursor: pointer;
      font-size: 18px;
      background: none;
      border: none;
      padding: 0;
      color: #95a5a6;
      transition: color 0.3s;
    }
    .icon-btn:hover { color: #2980b9; }

    /* ã‚«ãƒ¼ãƒ‰å…±é€šãƒ‡ã‚¶ã‚¤ãƒ³ */
    .card {
      background: white;
      border-radius: 16px;
      padding: 15px;
      margin-bottom: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.04);
      transition: transform 0.2s;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.08);
    }

    /* è²¢çŒ®åº¦ã‚«ãƒ¼ãƒ‰ï¼ˆç‰¹åˆ¥ä»•æ§˜ï¼‰ */
    .card.contribution {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .card.contribution .label { color: rgba(255,255,255,0.9); }
    .card.contribution .value { color: white; font-size: 32px; text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .card.contribution .sub-stats {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 8px;
      font-size: 11px;
      background: rgba(255,255,255,0.2);
      padding: 6px;
      border-radius: 8px;
    }

    /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .grid-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 12px;
    }

    /* ãƒ©ãƒ™ãƒ«ã¨æ•°å€¤ */
    .label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #7f8c8d;
      margin-bottom: 6px;
      font-weight: 600;
    }
    .value {
      font-size: 22px;
      font-weight: 800;
      color: #2c3e50;
    }
    .unit { font-size: 12px; color: #7f8c8d; font-weight: normal; margin-left: 2px; }
    
    /* ã‚¨ã‚³ã‚³ã‚¹ãƒˆã®å¼·èª¿è‰² */
    .cost-val { color: #e74c3c; }
    .price-sub { font-size: 12px; color: #95a5a6; font-weight: bold; }

    /* ãƒ•ãƒƒã‚¿ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¨ãƒªã‚¢ */
    .actions {
      padding: 0 20px 20px 20px;
      display: flex;
      gap: 10px;
    }
    button.action-btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 12px;
      transition: background 0.2s;
    }
    .btn-share {
      background-color: #2c3e50;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    .btn-share:hover { background-color: #34495e; }
    .btn-reset {
      background-color: #ecf0f1;
      color: #7f8c8d;
    }
    .btn-reset:hover { background-color: #bdc3c7; }

    /* è¨­å®šå€¤ã®å°ã•ãªè¡¨ç¤º */
    .meta-info {
      font-size: 9px;
      color: #bdc3c7;
      text-align: right;
      margin-top: 4px;
    }
  </style>
</head>
<body>

  <!-- ã“ã“ã‹ã‚‰ä¸‹ãŒç”»åƒåŒ–ã•ã‚Œã¾ã™ -->
  <div id="capture-area">
    <div class="header">
      <div class="app-title">
        <span>ğŸ¤–</span> AI Eco Monitor
      </div>
      <div class="header-icons" data-html2canvas-ignore="true">
        <!-- ç„¡è¦–å±æ€§ã‚’ã¤ã‘ã¦ç”»åƒåŒ–ã®ã¨ãã¯æ¶ˆã™ -->
        <button id="reload-btn" class="icon-btn" title="æ›´æ–°">â†»</button>
        <button id="settings-btn" class="icon-btn" title="è¨­å®š">âš™ï¸</button>
      </div>
    </div>

    <!-- è²¢çŒ®åº¦ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ -->
    <div class="card contribution">
      <div class="label">Total Waste Avoided</div>
      <div class="value"><span id="avoided-count">0</span><span class="unit" style="color:white">times</span></div>
      <div class="sub-stats">
        <span>ğŸ“‰ -<span id="saved-co2">0</span> kg CO2</span>
        <span>âš¡ -<span id="saved-wh">0</span> Wh</span>
      </div>
    </div>

    <!-- CO2æ’å‡ºé‡ -->
    <div class="card" style="border-left: 5px solid #e74c3c;">
      <div class="label">Carbon Footprint</div>
      <div class="value cost-val"><span id="co2-cost">0</span><span class="unit">kg-CO2</span></div>
      <div class="meta-info">Coef: <span id="lbl-co2">0.8</span></div>
    </div>

    <!-- 2ã‚«ãƒ©ãƒ ã‚°ãƒªãƒƒãƒ‰ -->
    <div class="grid-row">
      <!-- æ°´ -->
      <div class="card">
        <div class="label">ğŸ’§ Water</div>
        <div class="value"><span id="water-cost">0</span><span class="unit">L</span></div>
        <div class="price-sub">Â¥<span id="water-price">0</span></div>
      </div>
      <!-- é›»æ°— -->
      <div class="card">
        <div class="label">âš¡ Energy</div>
        <div class="value"><span id="elec-cost">0</span><span class="unit">Wh</span></div>
        <div class="price-sub">Â¥<span id="elec-price">0</span></div>
      </div>
    </div>

    <!-- åŸºæœ¬çµ±è¨ˆ -->
    <div class="grid-row" style="margin-bottom:0;">
      <div class="card" style="background:#fdfdfd;">
        <div class="label">Requests</div>
        <div class="value" style="font-size:18px" id="req-count">0</div>
      </div>
      <div class="card" style="background:#fdfdfd;">
        <div class="label">Tokens</div>
        <div class="value" style="font-size:18px" id="token-count">0</div>
      </div>
    </div>
    
    <div style="text-align:center; font-size:9px; color:#ccc; margin-top:10px;">
      Generated by AI Eco Monitor
    </div>
  </div>
  <!-- ç”»åƒåŒ–ã‚¨ãƒªã‚¢ã“ã“ã¾ã§ -->

  <div class="actions">
    <button id="share-btn" class="action-btn btn-share">
      <span>ğŸ“·</span> ç”»åƒã¨ã—ã¦ä¿å­˜
    </button>
    <button id="reset-btn" class="action-btn btn-reset">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>

  <script src="popup.js"></script>
</body>
</html>